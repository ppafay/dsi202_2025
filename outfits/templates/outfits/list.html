{% extends "outfits/base.html" %}
{% load static %}

{% block title %}‡∏ä‡∏∏‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î - MindVibe üå∏{% endblock %}

{% block extra_head %}
    <link rel="stylesheet" href="{% static 'outfits/list.css' %}">
{% endblock %}

{% block content %}
<div class="container">
    <h2 class="page-title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏∏‡∏ì</h2>

    <form method="get" action="{% url 'outfits:outfit-search' %}" class="search-form">
      <input type="text" name="q" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏ä‡∏∏‡∏î, ‡∏™‡πÑ‡∏ï‡∏•‡πå, ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏≠‡∏Å‡∏≤‡∏™..." value="{{ request.GET.q }}" class="form-control">
      <button type="submit" class="btn">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
    </form>

    {% if outfits %}
    <div class="outfit-grid">
        {% for outfit in outfits %}
        <div class="outfit-card">
            <a href="{% url 'outfits:outfit-detail' outfit.id %}" class="image-link">
                {% if outfit.image %}
                    <img src="{{ outfit.image.url }}" alt="{{ outfit.name }}">
                {% else %}
                    <img src="{% static 'outfits/images/placeholder-outfit.png' %}" alt="No image available"> {# Placeholder ‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡∏∏‡∏î #}
                {% endif %}
            </a>
            <div class="card-content">
                <h3><a href="{% url 'outfits:outfit-detail' outfit.id %}">{{ outfit.name }}</a></h3>
                <p class="price-tag">‡∏ø{{ outfit.price|floatformat:2 }} / ‡∏ß‡∏±‡∏ô</p> {# ‡∏™‡∏°‡∏°‡∏ï‡∏¥‡∏ß‡πà‡∏≤‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≠‡∏ß‡∏±‡∏ô #}
                <form method="post" action="{% url 'outfits:add_to_cart' outfit.id %}" class="add_to_cart_form">
                    {% csrf_token %}
                    <div class="quantity-selector">
                        <label for="quantity_{{ outfit.id }}" class="sr-only">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô:</label> {# sr-only for screen readers if label is visually hidden #}
                        <input type="number" name="quantity" id="quantity_{{ outfit.id }}" value="1" min="1" class="form-control quantity-input">
                    </div>
                    <button type="submit" class="btn btn-primary">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="no-outfits-found">
        {% if request.GET.q %}
            ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ "{{ request.GET.q }}" ‡∏•‡∏≠‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≥‡∏≠‡∏∑‡πà‡∏ô‡∏î‡∏π‡∏ô‡∏∞‡∏Ñ‡∏∞
        {% else %}
            ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏ä‡∏∏‡∏î‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞ ‡∏•‡∏≠‡∏á‡πÅ‡∏ß‡∏∞‡∏°‡∏≤‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏£‡πá‡∏ß‡πÜ‡∏ô‡∏µ‡πâ‡∏ô‡∏∞‡∏Ñ‡∏∞
        {% endif %}
    </p>
    {% endif %}
</div>
{% endblock %}